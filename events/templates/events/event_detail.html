{% extends 'base.html' %}

{% block content %}

    <section class="max-w-6xl mx-auto px-4 pt-8 pb-16">
        <nav class="text-[11px] muted label">
            <a class="hover:opacity-70" href="{% url 'events:event_list' %}">schedule</a> <span class="mx-2">/</span>
            <span>{{ event.city }}</span> <span class="mx-2">/</span>
            <span>{{ event.get_event_type_display }}</span>
        </nav>

        <div class="mt-6 grid lg:grid-cols-12 gap-8 items-start">
            <!-- Main -->
            <div class="lg:col-span-7">
                <div class="py-7 hairline overflow-hidden">
                    <div class="hairline">
                        <div class="text-[11px] muted label">{{ event.city }} • {{ event.get_event_type_display }}</div>
                        <h1 class="mt-3 font-display text-5xl md:text-6xl leading-[0.92]">
                            {{ event.start_at|date:"l" }} — {{ event.start_at|time:"H:i" }}
                            <span class="block">{{ event.title }}</span>
                        </h1>

                        <p class="mt-4 muted leading-relaxed max-w-2xl">
                            {{ event.description }}
                        </p>

                        <div class="mt-6 grid sm:grid-cols-3 gap-3 text-sm">
                            <div class="border hairline rounded-xl p-4">
                                <div class="text-[11px] muted label">distance</div>
                                <div class="mt-2 font-semibold">{{ event.distance_min_km }} km</div>
                            </div>
                            <div class="border hairline rounded-xl p-4">
                                <div class="text-[11px] muted label">price</div>
                                <div class="mt-2 font-semibold">{{ event.ticket_price_display }}</div>
                            </div>
                            <div class="border hairline rounded-xl p-4">
                                <div class="text-[11px] muted label">level</div>
                                <div class="mt-2 font-semibold">All</div>
                            </div>
                        </div>
                    </div>

                    {% if event.poster %}

                        <div class="my-4 flex">
                            <div class="w-full max-w-sm aspect-[4/5] hairline overflow-hidden">
                                <img
                                        src="{{ event.poster.url }}"
                                        alt="{{ event.title }}"
                                        class="w-full h-full object-cover"
                                        loading="lazy"
                                >
                            </div>
                        </div>

                    {% else %}

                        <div class="mt-4 aspect-[4/5] hairline rounded-2xl bg-[linear-gradient(135deg,#f2f2f2,#dcdcdc)] grid place-items-center">
                            <span class="text-[11px] muted label">black & white photo</span>
                        </div>

                    {% endif %}

                </div>


            </div>

            <!-- Side -->
            <aside class="lg:col-span-5">
                <div class="border hairline rounded-2xl p-6">
                    <div class="text-[11px] muted label">quick actions</div>

                    <div class="mt-4 grid gap-3">
                        <a class="btn-solid text-center" href="{% url 'events:register_form' event.slug %}">Inscrever-se</a>
                    </div>

                    <div class="mt-6 border-t hairline pt-6 text-sm">
                        <div class="text-[11px] muted label">city</div>
                        <div class="mt-3 font-semibold">{{ event.city }}</div>
                    </div>

                    <div class="mt-6 border-t hairline pt-6 text-sm">
                        <div class="text-[11px] muted label">type</div>
                        <div class="mt-3 font-semibold">{{ event.get_event_type_display }}</div>
                    </div>

                    <div class="mt-6 border-t hairline pt-6 text-sm">
                        <div class="text-[11px] muted label">meeeting point</div>
                        <div class="mt-3 font-semibold">{{ event.meeting_point }}</div>
                    </div>
                </div>

                <div class="mt-4 border hairline rounded-2xl p-6">
                    <div class="text-[11px] muted label">first time?</div>
                    <div class="mt-3 font-display text-3xl leading-[0.95]">No stress.</div>
                    <p class="mt-3 muted leading-relaxed text-sm">
                        Chega cedo, diz teu nome e teu ritmo. A gente te encaixa num grupo confortável.
                    </p>
                    <div class="mt-4">
                        <a class="link-u text-sm" href="{% url 'events:event_list' %}">Back to schedule</a>
                    </div>
                </div>
            </aside>
        </div>
    </section>

{% endblock %}
